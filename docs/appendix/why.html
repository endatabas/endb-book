<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Why? - The Endatabas Book</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../tutorial/index.html"><strong aria-hidden="true">1.</strong> Tutorial</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../tutorial/quickstart.html"><strong aria-hidden="true">1.1.</strong> Quickstart</a></li><li class="chapter-item expanded "><a href="../tutorial/try_it.html"><strong aria-hidden="true">1.2.</strong> Try It!</a></li><li class="chapter-item expanded "><a href="../tutorial/sql_basics.html"><strong aria-hidden="true">1.3.</strong> Endb SQL Basics</a></li></ol></li><li class="chapter-item expanded "><a href="../sql/index.html"><strong aria-hidden="true">2.</strong> SQL Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../sql/intention.html"><strong aria-hidden="true">2.1.</strong> Intention</a></li><li class="chapter-item expanded "><a href="../sql/data_manipulation.html"><strong aria-hidden="true">2.2.</strong> Data Manipulation</a></li><li class="chapter-item expanded "><a href="../sql/queries.html"><strong aria-hidden="true">2.3.</strong> Queries</a></li><li class="chapter-item expanded "><a href="../sql/data_types.html"><strong aria-hidden="true">2.4.</strong> SQL Data Types</a></li><li class="chapter-item expanded "><a href="../sql/operators.html"><strong aria-hidden="true">2.5.</strong> Operators</a></li><li class="chapter-item expanded "><a href="../sql/functions.html"><strong aria-hidden="true">2.6.</strong> Functions</a></li><li class="chapter-item expanded "><a href="../sql/time_queries.html"><strong aria-hidden="true">2.7.</strong> Time Queries</a></li><li class="chapter-item expanded "><a href="../sql/path_navigation.html"><strong aria-hidden="true">2.8.</strong> Path Navigation</a></li><li class="chapter-item expanded "><a href="../sql/schema.html"><strong aria-hidden="true">2.9.</strong> Schema</a></li><li class="chapter-item expanded "><a href="../sql/views.html"><strong aria-hidden="true">2.10.</strong> Views</a></li><li class="chapter-item expanded "><a href="../sql/assertions.html"><strong aria-hidden="true">2.11.</strong> Assertions</a></li></ol></li><li class="chapter-item expanded "><a href="../reference/index.html"><strong aria-hidden="true">3.</strong> Reference</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../reference/installation.html"><strong aria-hidden="true">3.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../reference/operation.html"><strong aria-hidden="true">3.2.</strong> Operation</a></li><li class="chapter-item expanded "><a href="../reference/http_api.html"><strong aria-hidden="true">3.3.</strong> HTTP API</a></li><li class="chapter-item expanded "><a href="../reference/data_types.html"><strong aria-hidden="true">3.4.</strong> Data Types</a></li></ol></li><li class="chapter-item expanded "><a href="../appendix/index.html"><strong aria-hidden="true">4.</strong> Appendix</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../appendix/what.html"><strong aria-hidden="true">4.1.</strong> What?</a></li><li class="chapter-item expanded "><a href="../appendix/why.html" class="active"><strong aria-hidden="true">4.2.</strong> Why?</a></li><li class="chapter-item expanded "><a href="../appendix/architecture.html"><strong aria-hidden="true">4.3.</strong> Architecture</a></li><li class="chapter-item expanded "><a href="../appendix/roadmap.html"><strong aria-hidden="true">4.4.</strong> Roadmap</a></li><li class="chapter-item expanded "><a href="../appendix/license.html"><strong aria-hidden="true">4.5.</strong> License</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Endatabas Book</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/endatabas/endb-book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/endatabas/endb-book/edit/main/src/appendix/why.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="why-endatabas"><a class="header" href="#why-endatabas">Why Endatabas?</a></h1>
<p>(Read more in <a href="what.html"><em>What is Endatabas?</em></a>)</p>
<p>Why did we build Endatabas (aka Endb) at all?
Isn't one of the many (<a href="https://www.dbdb.io">many</a>) existing databases good enough?</p>
<p>Many incumbent databases serve their use cases and markets well.
But the demands placed on databases are growing rapidly.
These demands pull in multiple directions, all at once, and existing technology cannot support them without introducing enormous complexity.
Metamorphosis is required.</p>
<p>Endb takes good ideas and makes them easier to access, while reducing operational headache.
It does not try to be flashy or unnecessarily revolutionary.
Instead, it tries to be simple and familiar on the surface while providing a lot of new power under the covers.</p>
<p>Let's talk about what that means in clear, concrete terms.</p>
<h2 id="what-is-endatabas-anyway"><a class="header" href="#what-is-endatabas-anyway">What is Endatabas, anyway?</a></h2>
<p>The tagline &quot;SQL Document Database With Full History&quot; says a lot, but it doesn't say everything.
Endatabas is, first and foremost, an <em>immutable database</em>.
That's the Full History part.
But storing all your data, forever, has clear implications.</p>
<p>We consider these implications to be the <em>pillars</em> of Endatabas.
In 3D geometry, the legs of a tripod are mutually supportive; as long as all three feet are in contact with the ground, the tripod will not wobble or collapse.
So it is with the pillars.
Each supports and implies the others.
The pillars are as follows:</p>
<ul>
<li>Full History (requires: immutable data and erasure)</li>
<li>Timeline (requires: time-traveling queries)</li>
<li>Separation of Storage from Compute (requires: light and adaptive indexing)</li>
<li>Documents (requires: schemaless tables, &quot;schema-per-row&quot;, arbitrary joins)</li>
<li>Analytics (requires: columnar storage and access)</li>
</ul>
<p>At the top of this five-dimensional structure is SQL, the lingua franca of database queries.
We believe it is the right time to integrate these ideas.
But first let's go back a few decades to see how we got here.</p>
<h2 id="history"><a class="header" href="#history">History</a></h2>
<p>None of the ideas in Endatabas are new.</p>
<p>George Copeland's <a href="https://www.endatabas.com/references.html#10.1145/800083.802685"><em>What if mass storage were free?</em></a>
asked, back in 1980, what an immutable database might look like.
His prescient vision for a database with full history enjoys the clarity of a researcher at the beginning of the database era.
People have occasionally asked of Endatabas, &quot;why bother retaining all history?&quot;
But this is the wrong question.
The real question is: &quot;why bother destroying data?&quot;
Copeland's answers, &quot;The deletion concept was invented to reuse expensive computer storage.&quot;
The software industry has grown so accustomed to the arbitrary deletion of historical data that we now take destroying data for granted.</p>
<p>Mass storage is not free yet — but it is cheap.
Copeland himself addresses &quot;a more realistic argument: if the cost of mass storage were low enough, then deletion would become undesirable.&quot;
Any system that exploits the separation of storage and compute can enjoy these low costs.</p>
<p>An immutable dataset and a timeline of changing states are two sides of the same coin.
Previous states carry the innate property of time (whether defined by familiar wall clocks or versions or logical clocks).
Jensen and Snodgrass have thoroughly researched time-related database queries.
Much of their work was published <a href="https://www.endatabas.com/bibliography.html#10.1109/69.755613">in the 1990s</a>
and early 2000s.
Storing time, querying across time, time as a value ... these challenging subjects eventually grew to form
<a href="https://www.endatabas.com/bibliography.html#ISO/IEC-19075-2:2021">SQL:2011</a>.
Most SQL databases have struggled to implement SQL:2011.
Incorporating <em>time</em> as a core concept in mutable databases (those which support destructive updates and deletes) amplifies existing complexity.
Time should simplify the database, not complicate it.</p>
<p>Document databases have a more convoluted story.
Attempts at &quot;schemaless&quot;, semi-structured, document, and object databases stretch from
<a href="https://www.endatabas.com/bibliography.html#10.1145/971697.602300">Smalltalk in the 1980s</a>
to <a href="https://en.wikipedia.org/wiki/Object_database#Timeline">C++ in the 1990s</a>
to <a href="https://prevayler.org/">Java</a>
and <a href="https://en.wikipedia.org/wiki/Neo4j">graphs in the 2000s</a>
to <a href="https://en.wikipedia.org/wiki/MongoDB">JSON in the 2010s</a>.
Despite all this, the most successful semi-structured document store, as of 2023, is a Postgres database with JSON columns.
Database users desire flexible storage and querying — but yesterday's weather says they desire SQL more.
Can't we have both?</p>
<p>SQL has four identities, four histories.
There is an SQL of academia, born of
<a href="https://www.endatabas.com/references.html#10.1145/362384.362685">Codd's relational algebra (1970)</a> and
<a href="https://www.endatabas.com/references.html#10.1145/800296.811515">Chamberlin/Boyce SEQUEL (1974)</a>,
grown over decades with research like Snodgrass/Jensen's TSQL2.
Then there is the SQL of industry, the many-tentacled leviathan of IBM, Oracle, and Microsoft:
the SQL sold to businesses and governments, ceaselessly bifurcated into new dialects with each version and implementation.
Between these two rests the SQL of the ISO specification —
unified across 11 published standards, from SQL-86 to SQL:2023, spanning thousands of pages, adhered to by no single database.<sup class="footnote-reference"><a href="#mimer">1</a></sup>
Last, there is colloquial SQL, the language one refers to by the question, &quot;do you know SQL?&quot;
These four threads are intertwined across four decades, making it very difficult to clearly define what is meant by &quot;SQL&quot;, even in very narrow contexts.
Colloquial SQL is of greatest interest to us.
This is the ubiquitous query language any new database must implement to succeed.</p>
<p>Khoshafian and Copeland introduced the <a href="https://www.endatabas.com/bibliography.html#10.1145/318898.318923">Decomposition Storage Model (DSM)</a>
in 1985.
The four decades that followed saw any number of approaches to data analytics.
Most of the time, however, these demanded expensive data acrobatics:
data was piped, streamed, dumped, and copied into denormalized cubes and time-series databases.
As humanity grew out of the batch processing of the 1980s into the always-online society of the 2020s, analytics data became another form of operational data and this pipeline was looped back to users and customers.
Hybrid Transactional/Analytical Processing (HTAP) promises a simpler, natural successor to OLTP and OLAP systems.
For many businesses, the transactional/analytical divide is as arbitrary as destroying data with every state change.</p>
<p>Humanity will arbitrarily destroy data in 2026 because hard disks were expensive in 1986.
Similarly, we will wastefully query data with multiple systems in 2026 because CPUs were slow in 1986.</p>
<h2 id="why-sql"><a class="header" href="#why-sql">Why SQL?</a></h2>
<p>When you approach Endb from a distance, you won't see the pillars at first.
You'll see the structure they support.
This structure also binds the pillars together.
The query language of a database is its glue.
It is the user interface.
It defines the user experience.
It is at once a programming language, a dialogue, an envelope, a protocol.
But a query engine is not divorced from its query language, and so the language choice also informs system design and behaviour.</p>
<p>There are mundane reasons for choosing SQL.
If asked &quot;do you know SQL?&quot; there's a high probability the answer is &quot;yes.&quot;
SQL is the language of data science and third-party tools.
If any sufficiently successful database has to provide SQL access anyway, one may as well start there.</p>
<p>But this is not why we chose SQL.
We believe SQL can be beautiful.</p>
<p>As mentioned in <a href="#history"><em>History</em></a>, we are primarily concerned with colloquial SQL.
The other threads of SQL are relevant but Endb will never implement the entire SQL specification.
Instead, the Endb SQL dialect unifies the pillars under one strongly-dynamically-typed umbrella, a variation of the SQLite dialect.
SQLite's applications are quite different from those of Endatabas, so Endb SQL is not weakly-typed and Endb types are not a free-for-all.
Instead, Endb internally adopts types from <a href="https://arrow.apache.org/">Apache Arrow</a>, which it uses as a storage medium.</p>
<p>When considering alternatives, there are no direct contenders.
Cypher, Datalog, MongoDB query documents, and other schemaless query languages work well for one database implementation but lack both mindshare and standards.
PartiQL, SQL++, and other NewSQL languages that depart from SQL suffer precisely because they are <em>almost</em> SQL.
One can fantasize about designing a query language from scratch but it's very easy to get wrong and takes decades to build mindshare.
SQL has been through this decades-long gauntlet.</p>
<p>Just as PL/SQL and T-SQL differ, so will Endb SQL from other dialects.
However, colloquial SQL is comparable to colloquial Hindi — at higher levels, it bifurcates into Urdu and Sanskrit but speakers of both lineages understand one another.
<a href="../tutorial/sql_basics.html">Endb SQL will be familiar</a> to users of other SQL dialects.</p>
<p>With its long, rich history SQL not only has the necessary theoretical underpinnings but the battle scars of technology that lasts.
It sits alongside POSIX, TCP/IP, LISP, C, and the QWERTY keyboard layout.
It will see its centenary.</p>
<h2 id="why-full-history"><a class="header" href="#why-full-history">Why Full History?</a></h2>
<p>Even if we ignore Copeland's dream of mass storage from 1980, it is easy to see why destroying data is harmful.
To destroy data is to destroy facts — to lie about the truth of what happened.</p>
<p>Few modern systems permit the total destruction of data for this obvious reason.
Some choose to create audit tables: <code>users_audits</code>, <code>sales_audits</code>, and so on.
Some choose to log anything and everything.
&quot;It's on disk somewhere.&quot;
It's not uncommon for companies to extract metrics from logs to create invoices and reports, turning a log file into a bespoke immutable database.</p>
<p>Industries which take their data very seriously (banking, healthcare) already store immutable records.
They just do so in a mutable database.
Append-only tables are not new, but they're an order of magnitude easier to work with — for both users and operators — if the database is append-only from the ground up.</p>
<p>These same industries will resist the destruction of data unless absolutely necessary, but they will bend to necessity.
<a href="../sql/data_manipulation.html#erase">Erasure</a> is concomitant with immutability — we cannot have one without the other.
The existing designs of databases create serious problems for privacy.
<code>DELETE</code>, when overloaded to mean both &quot;save disk space&quot; and &quot;explicitly remove this data&quot;, becomes opaque.
It does not leave any queryable record of the deletion.
Removing data should keep tombstones so it's at least known that some data was removed.</p>
<h2 id="why-a-timeline"><a class="header" href="#why-a-timeline">Why a timeline?</a></h2>
<p>Keeping your data's entire history is the write-side of the equation.
If you didn't care about getting this data back, you could just dump it into an unintelligible pile.
But you not only want your data back, you want to query it in the easiest way possible.</p>
<p>One very sensible way to see and query immutable data is along a timeline.
Endb makes no assumptions about your desire to participate in this timeline.
By default, everything is visible <em>as-of-now</em> but querying the past should feel effortless.</p>
<pre><code class="language-sql">-- without time travel:
SELECT * FROM products;
-- time travel to 2020:
SELECT * FROM products FOR SYSTEM_TIME AS OF 2020-08-25T00:00:00;
</code></pre>
<h2 id="why-separation-of-storage-and-compute"><a class="header" href="#why-separation-of-storage-and-compute">Why Separation of Storage and Compute?</a></h2>
<p>Separating storage from compute is an implementation detail.
AWS customers don't choose Amazon Aurora because they're craving this separation.
Decoupling storage from compute makes scale (both up and down) trivial.
It also introduces the possibility of
<a href="https://assets.amazon.science/dc/2b/4ef2b89649f9a393d37d3e042f4e/amazon-aurora-design-considerations-for-high-throughput-cloud-native-relational-databases.pdf">&quot;reducing network traffic, ... fast crash recovery, failovers to replicas without loss of data, and fault-tolerant, self-healing storage.&quot;</a></p>
<p>This decoupling is concomitant with <a href="https://www.youtube.com/watch?v=Px-7TlceM5A">Light and Adaptive Indexing</a>.
It is undesirable to manually construct expensive indexes for unknown future schemas over (effectively) infinite data.
Instead, we should let machine learning handle this job.</p>
<h2 id="why-documents"><a class="header" href="#why-documents">Why documents?</a></h2>
<p>It can be argued that &quot;why documents?&quot; is really multiple questions:
why schemaless?
why nested data?
why dynamic SQL?</p>
<p>First, the challenges.
It is extremely difficult to force global schema onto every row in a table in an immutable world.
Even if there were a simple mechanism in SQL to alter table schema only for certain durations (there isn't), the database user would still be burdened with querying based on a particular schema at a particular time in the history of the table.
This complexity is compounded by the fact that static schemas have less and less meaning in a temporal world.
Endb introduces <a href="https://docs.endatabas.com/sql/time_queries.html">SQL:2011 time-travel and period predicates</a>.
The difficulty, mentioned earlier, that other databases encounter when introducing SQL:2011 is twofold: dealing with &quot;time&quot; in a world where history can be violently rewritten and managing an unbending schema across time.</p>
<p>Nested data is equally unnatural in incumbent databases.
SQL:99, SQL:2016, SQL:2023 all offer some way of shoehorning nested data into flat tables.
DynamoDB, Couchbase, and MongoDB are the most common document databases but they don't speak SQL.<sup class="footnote-reference"><a href="#xquery">2</a></sup>
Not only will no one ever decompose relational data into 6NF, it is unlikely we'll ever see a return to the classic BCNF of business entity-relationship diagrams.
Nested data is here to stay.
Foreign, embedded JSON (or XML) is little more than a band-aid.
Nested data should be native to SQL queries.</p>
<p>Second, the joys.
Schema-per-row can be incredibly liberating.
Not only does this feel more natural, it embraces the messy truth of the real world.
Schema-on-write can be added later, when the business is ready to lock down what it knows about a domain.
But many use cases <em>demand</em> flexible schemas.
What if this week's project requires downloading huge amounts of semi-structured JSON pricing data from the APIs of competing online stores to compare them?
Endb can handle this case out of the box.
Most databases would require a great deal of manipulation first.</p>
<p>Dynamic SQL is required to support schemaless, nested data — but it also brings its own joys.
When dynamic SQL rests on top of a flexible data model which can ingest any data,
it is capable of exploring nested data and easily constructing arbitrary joins users could normally only construct in a graph database.</p>
<h2 id="why-one-database"><a class="header" href="#why-one-database">Why &quot;One Database&quot;?</a></h2>
<p>It is often the job of analytics databases to record and query all the data of a business, denormalized for speed.
There will always be analytical jobs which require data to be transformed.
But many businesses already allow data scientists, analysts, and even CEOs read-only access to an OLTP replica.</p>
<p><a href="https://www.scattered-thoughts.net/writing/a-shallow-survey-of-olap-and-htap-query-engines/">HTAP is right on the horizon</a>.
Endb hopes to participate in that evolution by making all business data accessible to easy-to-produce, cheap, ephemeral read replicas.</p>
<h2 id="why-commercial-open-source"><a class="header" href="#why-commercial-open-source">Why Commercial Open Source?</a></h2>
<p>We cannot reconcile building and selling a product we would never buy ourselves.</p>
<h2 id="why-now"><a class="header" href="#why-now">Why Now?</a></h2>
<p>All of the pillars outlined above have their own strike-when-the-iron-is-hot moment.
The SQLite we know today began to materialize in 2001.
Amazon S3 was launched in 2006.
MongoDB was first released in 2007.
Immutable data and functional programming reached the mainstream in the 2010s.
Datomic (arguably the first immutable OLTP database) was release in 2012.
Amazon Aurora was released in 2015 and Google's AlloyDB in 2022.
Apache Arrow saw its first release in 2016.
Over the past decade, many financial firms built their own in-house temporal databases.
SQL:2011, SQL:2016, and SQL:2023 were ratified in their respective eponymous years.
HTAP hasn't quite happened yet.
AI-driven indexes haven't quite happened yet.</p>
<p>The moment for something like Endatabas is now... but it is a very long moment.
Endatabas cannot be built in a Postgres-compatible fashion.
Technically, it would be prohibitively expensive to build Endatabas from existing components.
It's time for something new.</p>
<div class="footnote-definition" id="mimer"><sup class="footnote-definition-label">1</sup>
<p>The complete SQL specification is very difficult to implement in full, though <a href="https://developer.mimer.com/features/sql-standard/">Mimer likely comes closest to this goal</a>.</p>
</div>
<div class="footnote-definition" id="xquery"><sup class="footnote-definition-label">2</sup>
<p>There is XQuery, of course. But most businesses today do not build their nested data storage on XQuery.</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../appendix/what.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../appendix/architecture.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../appendix/what.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../appendix/architecture.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
